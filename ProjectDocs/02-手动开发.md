# 手动开发 MCP 项目（CS 架构）

案例：**本地智能舆情分析系统**

## 2.1 项目需求
- 用户输入自然语言 → LLM 解析意图 → 工具链执行。
- 工具：新闻检索、情感分析、报告生成、邮件推送。
- 特点：本地运行，保证安全与低延迟。

## 2.2 开发环境
```bash
pip install uv
uv init mcp-project1
```
项目结构：
```
client.py   # 客户端
server.py   # 服务端
```

## 2.3 客户端（client.py）
1. 初始化配置（读取 `.env`）。
2. 连接 Server（建立 stdio 通道）。
3. 调度工具链（调用 LLM 规划）。
4. 用户交互循环 `chat_loop()`。
5. 资源清理（退出释放）。

## 2.4 服务端（server.py）
- **search_google_news**：新闻检索（Serper API）。
- **analyze_sentiment**：文本情感分析。
- **send_email_with_attachment**：发送邮件。
